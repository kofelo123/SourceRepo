- [TDD 개요](#180815_1)


-----------------------------------------

###### 180815_1

TDD 개요
-

"만일 당신이 때때로 실패하지 않는다면, 그것은 안이하게 살고 있다는 확실한 증거다 - 우디 앨런-"

 ![](https://drive.google.com/uc?export=view&id=1NmLClsyBQIIfnCz2YbpgZYuDLnz_X9eH)


검증을 위해 콘솔에 찍어보는 고전방법

단점은 이 경우 코드에 문제 유무 판단을 개발자 자신의 두뇌에 상당 부분 의존하게 된다

이러한 개발의 끝은 중간중간 만든 콘솔의 부분을 제거하고 로깅을 이용한 디버깅용 출력을 비활성 상태로 만들어 놓는다는 식으로 마감한다.

어느시점 새 요구사항이나, 수정사항 발생시 다시 로그를 찍고, 변하는 프로그램 상태를 살펴봐야 하는일이 반복된다. 

코드가 커질수록 버그수정에 필요한 부분을 찾기 힘들어진다. 디버깅용 코드와 비즈니스 로직이 물리게 된다.

논리적 오류를 찾기 힘들다-> 여기서 이 값이 들어가면 저것이 나와야 하는게 , 아니던가 맞던가? 이런..

기존코드에 대한 정상작동 보장이 어렵다
(수정시 다른데서 문제가 생기지 않는지)

뭔가 테스트를 위해 소스코드변경,데이터변경등 환경만드는일이 불편할 수있따.


"Test the program before you write it"


TDD에서 말하는 테스트는 일반적으로 말하는 
제품에 대한 테스트보다  작은 메소드 단위테스트 개념이다.


TDD는 질문 - 응답 - 정제  주기를 거친다.

실습 - 은행 계좌 클래스 만들기

은행계좌 클래스{

- 계좌 잔고 조회
- 입금 / 출금
- 예상 복리 이자(추가 개발)

}

![](https://drive.google.com/uc?export=view&id=1vB-S9sTZiLmNYVnrEB_EZUjq4LmdqO46)


테스트 케이스 작성시 두가지 접근 방법이  있다.

1. 구현 대상 클래스의 외형에 해당하는 메소드들을 먼저 만들고 테스트 케이스를 일괄적으로 만듬

2. 테스트 케이스를 하나씩 추가해나가면서 구현 클래스를 점진적으로 만드는 방식

2번 방법이 권장된다.


테스트 케이스는 테스트 하고자 하는 대상에 대한 시나리오를 만들고 그것을 코드로 표현한 모습이다.

"계좌를 생성한다 -> 계좌가 정상적으로 생성되었는지 확인한다."


TDD에서는 하나의 테스트 케이스가 하나의 기능을 테스트 하도록 만드는 것이 기본원칙이다.

대부분 하나의 테스트케이스는 하나의 메소드로 표현된다.

테스트 코드를 만들고 실행하면 시스템에 대해 개발자는 '코드가 예상대로 작동하는지 판단해줄래?

이에 해당하는 부분이 질문-응답-정제 주기 중 질문에 해당하는 부분이다.

그에 대한 응답으로 성공과 실패가 있다.

"TDD의 철학은 가능한 빠른시점내에 자주 실패를 경험하도록 유도한다. 실패를 통해 배움을,경험을, 실패 상황에 대한 극복하고자 노력한다.
성공에 필요한 조건을 만들고, 실패하는 조건 항목을 성공시킨다. 빨리 실패할수록 더 성공에 가까워지는 묘한 개발 철학이다."

주기 3단계(질문,응답,정제) 중 '정제'

- 리팩토링을 적용할 부분이 있는지 찾아본다
- ToDo 목록에서 완료된 부분을 지운다.

리팩토링은 정상적 동작하는 코드를 수정하여 좀더 사람친화적인 (이해,변경용이)한 코드로 개선하는 작업이다.


테스트 케이스를 만들어 놓으면 모험을 하더라도 되돌리면 그만이다.

"소스의 가독성, 중복된 코드, 네이밍, 구조개선"


junit에서는 굳이 에러를 던지고 할 필요가 없다.
junit에서 직접 처리되고 알려주기때문

"클래스 설계시 속성을 중요히 생각하는 경우가 많지만 사실 중요한건 동작인 메소드이다. 

동작을 생각하고 그에 필요한 속성을 고려하는 식으로 접근하는것이 불필요한 속성이 클래스에 섞여 들어가는것을 줄여준다."






